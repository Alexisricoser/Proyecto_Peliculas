<!DOCTYPE html>
<html>

<head>
    <title>Ejemplo de JavaScript</title>
    <meta charset="UTF-8">
</head>

<body>
    <h1>Actividad 2 ‚Äì Nivel avanzado</h1>
	<p>***T√≠tulo:** Gesti√≥n segura de usuarios y pedidos online con encadenamiento opcional</p>
    <script>
        /*
        Contexto:
Queremos representar la informaci√≥n de un √∫nico usuario de una tienda online. En algunos casos, el usuario puede no tener direcci√≥n, pedido o m√©todo de notificaci√≥n, y el objeto usuario incluso puede ser null.
El objetivo es acceder a todos los datos de forma segura, sin provocar errores, utilizando encadenamiento opcional (?., ?.[], ?.()).
Enunciado:
1. Declara un objeto usuario con la siguiente estructura:
let usuario = {
  nombre: "Laura",
  direccion: { ciudad: "Castell√≥n", calle: "Gran V√≠a 123" },
  pedido: { producto: "Port√°til", precio: 899 },
  notificar() { console.log(`Notificaci√≥n enviada a ${this.nombre}`); }
};
        */
        // Paso 1: Declarar el objeto usuario
        let usuario = {
            nombre: "Laura",
            direccion: { ciudad: "Castell√≥n", calle: "Gran V√≠a 123" },
            pedido: { producto: "Port√°til", precio: 899 },
            notificar() { console.log(`Notificaci√≥n enviada a ${this.nombre}`); }
        };
    /*
2. Declara otro objeto visitante sin direcci√≥n ni pedido, y sin el m√©todo notificar().
    */
   let visitante = {
       nombre: "Carlos"
   };
    /*
    3. Declara una variable usuarioActual que pueda ser igual a usuario, visitante o null.
    */
    let usuarioActual = usuario;
    /*
4. Muestra en consola:
    ‚Ä¢ üè∑Ô∏è El nombre del usuario o "Desconocido".
    ‚Ä¢ üè† La ciudad de residencia o "Sin direcci√≥n".
    ‚Ä¢ üõí El producto del pedido o "Sin pedidos".
    ‚Ä¢ üì© Ejecuta el m√©todo notificar() solo si existe.
    ‚Ä¢ üìß Accede a la propiedad "email" con ?.[] y muestra "Sin email".
    */
    console.log(`Nombre del usuario: ${usuarioActual?.nombre ?? 'Desconocido'}`);
    console.log(`Ciudad de residencia: ${usuarioActual?.direccion?.ciudad ?? 'Sin direcci√≥n'}`);
    console.log(`Producto del pedido: ${usuarioActual?.pedido?.producto ?? 'Sin pedidos'}`);
    usuarioActual?.notificar?.();
    console.log(`Email del usuario: ${usuarioActual?.['email'] ?? 'Sin email'}`);
    /*
    5. Todos los accesos deben realizarse usando encadenamiento opcional sin usar condicionales if ni operadores ternarios.
    */
   console.log(`Nombre del usuario: ${usuarioActual?.nombre ?? 'Desconocido'}`);
   console.log(`Ciudad de residencia: ${usuarioActual?.direccion?.ciudad ?? 'Sin direcci√≥n'}`);
   console.log(`Producto del pedido: ${usuarioActual?.pedido?.producto ?? 'Sin pedidos'}`);
   usuarioActual?.notificar?.();
   console.log(`Email del usuario: ${usuarioActual?.['email'] ?? 'Sin email'}`);
</script>
</body>

</html>
